<div class="content">
  <h2>Profiles</h2>
  <div *ngIf="error" class="error">{{ error }}</div>
  <mat-table [dataSource]="profiles" class="mat-elevation-z8">
    <ng-container matColumnDef="id">
      <mat-header-cell *matHeaderCellDef>ID</mat-header-cell>
      <mat-cell *matCellDef="let profile">{{ profile.id }}</mat-cell>
    </ng-container>
    <ng-container matColumnDef="customer">
      <mat-header-cell *matHeaderCellDef>Customer</mat-header-cell>
      <mat-cell *matCellDef="let profile">{{
        profile.customer?.name
      }}</mat-cell>
    </ng-container>
    <ng-container matColumnDef="facebookLink">
      <mat-header-cell *matHeaderCellDef>Facebook</mat-header-cell>
      <mat-cell *matCellDef="let profile">
        <a
          *ngIf="profile.facebookLink"
          [href]="profile.facebookLink"
          target="_blank"
          >{{ profile.facebookLink }}</a
        >
        <span *ngIf="!profile.facebookLink">-</span>
      </mat-cell>
    </ng-container>
    <ng-container matColumnDef="instagramLink">
      <mat-header-cell *matHeaderCellDef>Instagram</mat-header-cell>
      <mat-cell *matCellDef="let profile">
        <a
          *ngIf="profile.instagramLink"
          [href]="profile.instagramLink"
          target="_blank"
          >{{ profile.instagramLink }}</a
        >
        <span *ngIf="!profile.instagramLink">-</span>
      </mat-cell>
    </ng-container>
    <ng-container matColumnDef="actions">
      <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
      <mat-cell *matCellDef="let profile">
        <button mat-icon-button color="primary" (click)="openDialog(profile)">
          <mat-icon>edit</mat-icon>
        </button>
      </mat-cell>
    </ng-container>
    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
  </mat-table>
</div>
